<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Edit Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/edit-page.css" />
    <link href="/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <script src="/jsoneditor.min.js"></script>
</head>
<body>
    <% include header %>
    <div id="content">
        <div class="form-container edit-page-form">
            <form id="new-page" method="POST" action="/edit-page/update-page">
                <input type="hidden" name="id" value="<%= template._id%>" />
                <label> 
                    <span class="form-label">Page Title:</span>
                    <input type="text" name="title" value="<%= template.title %>" required />
                </label>

                </br>
                <label> 
                        <span class="form-label">Page URL:</span>
                        <input type="text" name="url" value="<%= template.url %>" disabled />
                </label>

                <input type="hidden" id="json-body" name="json-body" value="<%= template.body %>" />
                <div id="jsoneditor" value="<%= template.body %>" ></div>
                <!-- <textarea class="page-body-ta" name="body" required><%= template.body %></textarea> -->
                
                <label class="switch-container"> 
                    <span class="form-label switch-label">Make Page Visible?</span>
                    <% let myChecked = template.visible ? "checked" : "" %>
                    <input type="checkbox" name="visible"  <%= myChecked %>/>
                </label>
        
                <div class="button-container">
                    <button type="submit">Update Page</button>
                </div>               
            </form>

        </div>
        <p>
            Switch editor mode using the mode box.
            Note that the mode can be changed programmatically as well using the method
            <code>editor.setMode(mode)</code>, try it in the console of your browser.
          </p>
    </div>

    <script src="http://code.jquery.com/jquery-3.3.1.js"  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="  crossorigin="anonymous"></script>
    <script src="/js/edit-page.js"></script>
</body>
<%include footer %>
</html>